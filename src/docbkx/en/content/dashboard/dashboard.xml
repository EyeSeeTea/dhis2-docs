<?xml version='1.0' encoding='UTF-8'?>
<chapter version="5.0" xsi:schemaLocation="http://docbook.org/ns/docbook http://www.docbook.org/xml/5.0/xsd/docbook.xsd"
    xmlns="http://docbook.org/ns/docbook"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:xl="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xhtml="http://www.w3.org/1999/xhtml"
    xmlns:svg="http://www.w3.org/2000/svg"
    xmlns:mth="http://www.w3.org/1998/Math/MathML"
    xmlns:db="http://docbook.org/ns/docbook" xml:id="dashboard">
    <title>Managing dashboards</title>
    <section>
        <title>About dashboards</title>
        <para>Dashboards are intended to provide quick access to different analytical objects (maps,
      charts, reports, tables, etc) to an individual user. Dashboards can also be shared with user
      groups. </para>
        <example>
            <para>A user or administrator could create a dashboard called &quot;Antenatal care&quot; which might
        contain all relevant information on antenatal care. This dashboard could then be shared with the
        user group called &quot;ANC control&quot;, which might consist of all users of the
        ANC control program. All users within this group would then be able to view the same
        dashboard.</para>
        </example>
    </section>
    <section xml:id="dashboards_setup">
        <title>Dashboard and control bar</title>
        <para>Dashboards have a title, description, and any number of dashboard items. The dashboard
            items can be of many different types, including charts, maps, reports, tables,
            resources, messages, and text items. Above the dashboard is the control bar, which shows
            all your available dashboards, including a dashboard search field, and a <emphasis
                role="bold">+</emphasis> button for creating a new dashboard. </para>
        <para>The dashboard has two modes: view and edit/create. When you first log in to DHIS2,
            your most recently used dashboard will be displayed in view mode, if you are on the same
            computer as you were previously. If you are using a different computer, then the first
            starred dashboard will be displayed. if there are no starred dashboards, then the first
            dashboard will be displayed. Starred dashboards always show first in the dashboard
            list.</para>
        <para>The screenshot below shows a dashboard called "Antenatal Care", which has been
            populated with charts and maps.</para>
        <screenshot>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="resources/images/dashboard/dashboard-view-mode.png"
                        align="center" format="PNG" width="100%"/>
                </imageobject>
            </mediaobject>
        </screenshot>
        <section>
            <title>Searching in the list of dashboards</title>
            <para>You can search for a specific dashboard using the search field in the upper left of the control bar entitled “Search for a dashboard”. The search is case insensitive, and as you type, the list of dashboards will filter down to those that match your search text.</para>
        </section>
        <section>
            <title>Customizing the height of the control bar</title>
            <para>You can set a specific height for the dashboards control bar by down-clicking and dragging the bottom edge of the control bar.
            When you finish dragging, the new height will be set. Clicking on <emphasis role="bold">SHOW MORE</emphasis> will
            expand the control bar to its maximum height (10 &quot;rows&quot;). Clicking on <emphasis role="bold">SHOW LESS</emphasis>
            will reset the height to your customized height.
            </para>
        </section>

    </section>
    <section>
        <title>Creating a dashboard</title>
        <para>To create a new dashboard, click the green

            <emphasis role="bold">+</emphasis> button in the left corner of the control bar
        to go into create mode. Add a title in the title field, and optionally a description in the
        description field.

        </para>
        <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="resources/images/dashboard/dashboard-add-new.png" align="center" format="PNG" width="50%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
        <para><emphasis role="bold">Create mode:</emphasis></para>
        <screenshot>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="resources/images/dashboard/dashboard-create-mode.png"
                        align="center" format="PNG" width="100%"/>
                </imageobject>
            </mediaobject>
        </screenshot>
        <section>
            <title>Adding items to the dashboard</title>
            <para>Add items to the dashboard by searching from the item selector in the upper
        right part of the dashboard area. Available items include:</para>
            <itemizedlist>
                <listitem>
                    <para>Pivot tables</para>
                </listitem>
                <listitem>
                    <para>Charts</para>
                </listitem>
                <listitem>
                    <para>Maps</para>
                </listitem>
                <listitem>
                    <para>Event reports</para>
                </listitem>
                <listitem>
                    <para>Event charts</para>
                </listitem>
                <listitem>
                    <para>Report</para>
                </listitem>
                <listitem>
                    <para>Resources</para>
                </listitem>
                <listitem>
                    <para>Apps</para>
                </listitem>
                <listitem>
                    <para>Email</para>
                </listitem>
                <listitem>
                    <para>Text boxes</para>
                </listitem>
                <listitem>
                    <para>Spacer</para>
                </listitem>
            </itemizedlist>
            <para>The list of items in the dropdown initially displays the first 5 available from each
    category, based on the search text you enter. Email, text boxes and spacer items are also found in the dropdown. To view more items,
    click on <emphasis role="bold">SEE MORE</emphasis>, and the list for that type will be extended to 15 items. If you still do
    not find the item you want, try typing a more specific search text.</para>
            <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="resources/images/dashboard/dashboard-item-selector.png" align="center" format="PNG" width="80%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
            <para>Once you select an item, it will be added to the top left position of the
                dashboard. The added items can be moved using the mouse by down-clicking on the
                item and dragging it to the desired position. It can also be resized with the
                mouse by down-clicking on the drag handle in the lower right corner of the item
                and dragging to the desired size.</para>
            <section>
                <title>Spacer items</title>
                <para>The dashboard is configured with the &quot;anti-gravity&quot; setting for positioning items. This means
that items will &quot;rise&quot; upwards until they run into another item. In order
to force empty vertical space between items (like an empty row),
you can add spacer items to the dashboard. They are only visible in
edit/create mode. In view mode, they are not displayed, but take up the defined space.</para>
<para><emphasis role="bold">Spacer in edit/create mode:</emphasis></para>
<screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata
                                fileref="resources/images/dashboard/dashboard-spacer-edit-mode.png"
                                align="center" format="PNG" width="100%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
            <para><emphasis role="bold">Spaceer in view mode:</emphasis></para>
            <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata
                                fileref="resources/images/dashboard/dashboard-spacer-view-mode.png"
                                align="center" format="PNG" width="100%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
            </section>
        </section>
        <section>
            <title>Removing items</title>
            <para>Remove items by clicking on the red trash can at the upper right of the item.
            Be aware that because of the &quot;anti-gravity&quot; setting in the dashboard, when you remove an
            item, the items that are positioned below the removed item will &quot;rise&quot; upwards.</para>
        </section>
        <section>
            <title>Saving the dashboard</title>
            <para>When creating or editing a dashboard, changes are only saved when you click <emphasis role="bold">SAVE CHANGES</emphasis>
             button in the dashboard edit bar at the top of the page. If you don't want to save your
             changes, click the <emphasis role="bold">EXIT WITHOUT SAVING</emphasis> button to the upper right. You will then be returned
             to view mode with the dashboard you were previously viewing.</para>
        </section>
    </section>
    <section>
        <title>Editing an existing dashboard</title>
        <para>If you have access rights to edit the currently active dashboard, there will be an <emphasis role="bold">EDIT</emphasis> button
    to the right of the dashboard title in view mode. Click on this button to enter edit mode.</para>
    <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="resources/images/dashboard/dashboard-title-bar.png"
                        align="center" format="PNG" width="50%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
            <para>Refer to the above
    section about creating dashboards for information on adding and removing items to the dashboard.</para>
    <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="resources/images/dashboard/dashboard-edit-mode.png" align="center" format="PNG" width="100%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
        <section>
            <title>Translating dashboard title and description</title>
            <para>You can add translations for dashboard title and description while in edit mode.
                The dialog provides a list of languages to translate to, and shows the original
                dashboard title underneath the name input field.</para>
            <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata
                            fileref="resources/images/dashboard/dashboard-translation-dialog.png"
                            align="center" format="PNG" width="80%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
            <orderedlist>
                <listitem>
                    <para>Click on the <emphasis role="bold">TRANSLATE</emphasis> button located above the dashboard</para>
                </listitem>
                <listitem>
                    <para>Select the language you wish to add a translation for.</para>
                </listitem>
                <listitem>
                    <para>Add the title and/or description, and click <emphasis role="bold">SAVE</emphasis>
                    </para>
                </listitem>
            </orderedlist>
        </section>
        <section>
            <title>Deleting a dashboard</title>
            <para>If you have access to delete the dashboard, then there will be a <emphasis role="bold">DELETE</emphasis> button located above the dashboard, when in edit mode.
            A confirmation dialog will first be displayed to confirm that you want to delete the dashboard.</para>
        </section>
    </section>
    <section>
        <title>Viewing a dashboard</title>
        <para>When in view mode, you can toggle showing the description, star a dashboard, apply a dashboard filter, and share the dashboard with other users and groups</para>
        <para>To view the description, click on the <emphasis role="bold">i</emphasis> button to the right of the title</para>
        <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="resources/images/dashboard/dashboard-title-bar.png"
                        align="center" format="PNG" width="50%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
        <section>
            <title>Starred dashboards</title>
            <para>Your starred dashboards are listed first in the list of dashboards. To star a dashboard,
     click on the star button to the right of the title. When the star is “filled”, that means
     the dashboard is starred. Starring a dashboard only applies to you, not other users.</para>
        </section>
        <section>
            <title>Filtering a dashboard</title>
            <para>To filter the dashboard by organisation unit, click on the <emphasis role="bold">FILTER</emphasis> button to the right
         of the dashboard title. Select the organisation units you want to apply to the dashboard.
         This only affects you, no other users. The only dashboard items that are impacted by the
         organisation unit filter are visualization items (pivot table, chart, map) that have their organisation unit configured
to &quot;User org unit&quot;. If you reload the dashboard, the filter will be cleared.</para>
            <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata
                            fileref="resources/images/dashboard/dashboard-orgunit-filter-dialog.png"
                            align="center" format="PNG" width="60%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
        </section>
        <section>
            <title>Dashboard items with charts, pivot tables and maps</title>
            <section>
                <title>Switching between visualizations</title>
                <para>Dashboard items showing charts, pivot tables and maps can be toggled between these visualizations.
            Click on the buttons in the upper right corner of the item to toggle between visualizations.</para>
            <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata
                                fileref="resources/images/dashboard/dashboard-pluginitem-buttons.png"
                                align="center" format="PNG" width="50%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
            </section>
        </section>
        <section>
            <title>Interpretations</title>
            <para>You can write interpretations for the chart, pivot table, map, event report, and
                event chart items. Click on the interpretations button <inlinemediaobject>
                    <imageobject>
                        <imagedata fileref="resources/images/dashboard/dashboard-interpretations-button.png"/>
                    </imageobject>
                </inlinemediaobject>, and the item will be expanded vertically underneath to show
                the interpretations and replies. You can like an interpretation, reply to an
                interpretation, and add your own interpretation. You can edit or delete your own
                interpretations and replies, and if you have moderator access, you can delete
                others’ interpretations. </para>
            <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata
                            fileref="resources/images/dashboard/dashboard-interpretations.png"
                            align="center" format="PNG" width="60%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
        </section>
        <section xml:id="dashboard_sharing">
            <title>Sharing a dashboard</title>
            <para>In order to share a dashboard with user groups, click on the <emphasis role="bold">SHARE</emphasis> button to
      the right of the dashboard title to display the dashboard sharing settings options. To share the
      dashboard with specific users or user groups, type in the name in the input field to add
      them to the dashboard sharing settings</para>
            <screenshot>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="resources/images/dashboard/dashboard-sharing-dialog.png"
                            align="center" format="PNG" width="60%"/>
                    </imageobject>
                </mediaobject>
            </screenshot>
            <para>All dashboards have two sharing groups set by default.</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>External access (without login)</para>
                        <para>This option, when selected, provides access to the dashboard as an external
            resource. This is useful for when you are creating an external web portal but would like
            to call information from a dashboard you have made internally within DHIS2. By default,
            this option is not selected. </para>
                    </listitem>
                    <listitem>
                        <para>Public access (with login)</para>
                        <para>This option allows the selected dashboard to be pushed to all users within your
            DHIS2 instance. This can also be hidden from public view by selecting the
            &quot;None&quot; option, which is the default option for new dashboards.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>User groups that have been added manually can be assigned two types of permissions within
      the dashboard</para>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>Can view</para>
                        <para>Provides the user group with view only rights to the dashboard.</para>
                    </listitem>
                    <listitem>
                        <para>Can edit and view</para>
                        <para>Allows the user groups to edit the dashboard in addition to viewing it. Editing
            allows for altering the layout, resizing and removing items, renaming/deleting the
            dashboard etc. </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                <para>You can provide users with the url of the dashboard, allowing them to navigate
             directly to the dashboard. To get the dashboard url, just access the dashboard in view mode, and copy
             the browser url. For example, the url to the Antenatal Care dashboard in play.dhis2.org/demo is:</para>
                 <example><para>https://play.dhis2.org/demo/dhis-web-dashboard/#/nghVC4wtyzi</para></example>
            </para>
        </section>
    </section>
</chapter>
